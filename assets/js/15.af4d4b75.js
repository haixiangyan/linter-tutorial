(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{417:function(t,s,a){"use strict";a.r(s);var n=a(35),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ðŸ¤¥-lintstaged-x-tsc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ¤¥-lintstaged-x-tsc"}},[t._v("#")]),t._v(" ðŸ¤¥ LintStaged x TSC")]),t._v(" "),a("p",[t._v("æˆ‘ç›¸ä¿¡å¤§å¤šæ•°äººæ˜¯ä¸å¤ªäº†è§£ "),a("code",[t._v("tsc")]),t._v("ã€‚"),a("code",[t._v("tsc")]),t._v(" æœ¬èº«æ˜¯ä¸€ä¸ªç¼–è¯‘å·¥å…·ï¼Œå®ƒä¸»è¦å·¥ä½œæ˜¯å°† "),a("code",[t._v(".ts")]),t._v(" è½¬æ¢ä¸º "),a("code",[t._v(".js")]),t._v(" æ–‡ä»¶ï¼Œä½†æ˜¯å¤§å¤šæ•°é¡¹ç›®åœ¨æ‰“åŒ…æ—¶éƒ½ä¼šç”¨ "),a("code",[t._v("babel")]),t._v(" æ¥å¤„ç†äº†ï¼Œæ‰€ä»¥ä¹Ÿå°±æ²¡ "),a("code",[t._v("tsc")]),t._v(" ä»€ä¹ˆäº‹äº†ï¼Œå¤§å®¶ä¹Ÿå¾ˆå°‘ä¼šç”¨åˆ°ã€‚")]),t._v(" "),a("p",[t._v("å›žåˆ°æˆ‘ä»¬é¡¹ç›®ï¼Œåˆšåˆšçš„é…ç½®ä¸ºä»€ä¹ˆæœ‰é—®é¢˜å‘¢ï¼Ÿ")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'**/*.{ts,tsx}'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tsc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ£€æŸ¥ TypeScript")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'**/*.{js,jsx}'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"**/*.vue"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"**/*.{css,less}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"tsc-çš„å‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tsc-çš„å‚æ•°"}},[t._v("#")]),t._v(" tsc çš„å‚æ•°")]),t._v(" "),a("p",[t._v("è¿™é‡Œå•å•ä¸€ä¸ª "),a("code",[t._v("tsc")]),t._v(" æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦çš„æ˜¯åªæ£€æŸ¥ç±»åž‹ï¼Œä½†ä¸è¾“å‡ºï¼Œæ‰€ä»¥è¦åŠ ä¸€ä¸ª "),a("code",[t._v("--noEmit")]),t._v(" å‚æ•°ï¼ŒåŒæ—¶ä¹Ÿä¸è¦åŽ»æ£€æŸ¥ node_modules é‡Œçš„ç±»åž‹ï¼Œè¦åŠ  "),a("code",[t._v("--skipLibCheck")]),t._v(" å‚æ•°ã€‚å®Œæ•´çš„å‘½ä»¤ä¸º "),a("code",[t._v("tsc --noEmit --skipLibCheck")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'**/*.{ts,tsx}'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tsc --noEmit --skipLibCheck"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ£€æŸ¥ TypeScript")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä½†æ˜¯å¦‚æžœæˆ‘ä»¬æœ‰è¿™æ ·çš„ "),a("code",[t._v(".ts")]),t._v(" æ–‡ä»¶ï¼š")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// messyTS.ts")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hello"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Hello "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hi'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä»¥åŠå¯¹åº”çš„ "),a("code",[t._v(".d.ts")]),t._v(" ç±»åž‹å£°æ˜Žæ–‡ä»¶ï¼š")]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// messyTypes.d.ts")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Hello")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç„¶åŽæˆ‘ä»¬ "),a("strong",[t._v("åªåœ¨ "),a("code",[t._v("messyTS.ts")]),t._v(" åšäº†æ”¹åŠ¨å¹¶æäº¤ï¼Œ")]),t._v(" è¿™æ¡å‘½ä»¤åœ¨ "),a("code",[t._v("lint-staged")]),t._v(" è°ƒç”¨æ—¶ä¼šæŠ¥ä¸‹é¢çš„é”™è¯¯ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b1c0fd9f450e45fc8e24572506ef05f3~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),t._v(" "),a("p",[t._v("æŠ¥é”™é‡Œè¯´çš„æ˜¯æ‰¾ä¸åˆ° "),a("code",[t._v("Hello")]),t._v(" è¿™ä¸ª interfaceã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨å†™é¡¹ç›®çš„æ—¶å€™ï¼ŒIDE éƒ½ä¼šè‡ªåŠ¨æ‰¾åˆ°è¿™ä¸ªç±»åž‹å£°æ˜Žæ–‡ä»¶çš„å‘€ï¼Œä¸ºä»€ä¹ˆè¿™æ ·å°±ä¸è¡Œäº†å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("è¿™æ˜¯å› ä¸º IDE ä¼šè‡ªåŠ¨è¯»å–è¯» "),a("code",[t._v("tsconfig.json")]),t._v(" æ–‡ä»¶ï¼Œè€Œè¿™é‡Œ "),a("code",[t._v("tsc")]),t._v(" å‘½ä»¤æ²¡æœ‰è¯»å– "),a("code",[t._v("tsconfig.json")]),t._v(" å¯¼è‡´æ‰¾ä¸åˆ° "),a("code",[t._v("Hello")]),t._v(" è¿™ä¸ª interfaceã€‚é‚£ä¹ˆï¼Œå¾ˆè‡ªç„¶æˆ‘ä»¬å°±ä¼šæƒ³æ˜¯å¦å¯ä»¥ "),a("code",[t._v("tsc -p tsconfig.json --noEmit --skipLibCheck")]),t._v(" è¿™æ ·å†™å‘¢ï¼Ÿ"),a("strong",[t._v("æŠ±æ­‰ï¼Œä¾ç„¶æŠ¥é”™ï¼š")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e6fd478cf9ff497885c4bc72dfaaad4f~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("ä»–å¥¶å¥¶åœ°ï¼ä¸ºä»€ä¹ˆä¼šæŠ¥é”™ï¼Ÿï¼")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a6be60386b446eda6ea3ff02545c18c~tplv-k3u1fbpfcp-watermark.image?",alt:""}}),t._v("\nè¿™æ˜¯å› ä¸º "),a("code",[t._v("tsc")]),t._v(" åªæœ‰ä¸¤ç§è°ƒç”¨æ–¹å¼ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("tsc -p tsconfig.json")]),t._v("ï¼šç›´æŽ¥åŠ è½½ "),a("code",[t._v("tsconfig.json")]),t._v(" æ—¶ï¼Œä¼šç¼–è¯‘ "),a("code",[t._v("tsconfig.json")]),t._v(" é‡Œ "),a("code",[t._v("include")]),t._v(" çš„æ–‡ä»¶")]),t._v(" "),a("li",[a("code",[t._v("tsc xxx.ts")]),t._v("ï¼šç›´æŽ¥ç¼–è¯‘å‘½ä»¤è¡Œé‡Œå†™çš„ TS æ–‡ä»¶ï¼Œä½†æ˜¯ä¼šè‡ªåŠ¨å¿½ç•¥ "),a("code",[t._v("tsconfig.json")])])]),t._v(" "),a("p",[a("strong",[t._v("è¿™é‡Œå› ä¸º "),a("code",[t._v("lint-staged")]),t._v(" ä¼šæŠŠæäº¤çš„æ–‡ä»¶ä½œä¸ºå‚æ•°ä¼ ç»™ "),a("code",[t._v("tsc")]),t._v(" å‘½ä»¤ï¼Œå®žé™…æ‰§è¡Œçš„å‘½ä»¤æ˜¯ "),a("code",[t._v("tsc xxx.ts -p tsconfig.json --noEmit --skipLibCheck")]),t._v("ï¼Œæ‰€ä»¥å°±ä¼šå‡ºçŽ°åˆè¦åŠ è½½ "),a("code",[t._v("tsconfig.json")]),t._v(" ç¼–è¯‘ "),a("code",[t._v("include")]),t._v(" çš„ TS æ–‡ä»¶ï¼Œåˆè¦å•ç‹¬ç¼–è¯‘ "),a("code",[t._v("**/*.ts")]),t._v(" çš„æ–‡ä»¶ï¼Œ"),a("code",[t._v("tsc")]),t._v(" å°±è’™åœˆäº†ã€‚")])]),t._v(" "),a("p",[t._v("è¿™ä¸ªé—®é¢˜ä¹Ÿåœ¨ "),a("code",[t._v("lint-staged")]),t._v(" çš„ "),a("a",{attrs:{href:"https://github.com/microsoft/TypeScript/issues/27379",title:"lint-staged ä¸­ä½¿ç”¨ tsc çš„é—®é¢˜",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™ä¸ª Issue: Allow tsconfig.json when input files are specified"),a("OutboundLink")],1),t._v(" ä¸­æœ‰æåˆ°ã€‚é‡Œé¢å¯¹å¦‚ä½•è§£å†³è¿™æ ·çš„å†²çªè®¨è®ºçš„éžå¸¸æ¿€çƒˆã€‚å…¶ä¸­æœ‰ä¸€ä½å¤§å“¥æƒ³äº†ä¸€ä¸ªæ–¹æ³•ï¼š"),a("strong",[t._v("æˆ‘æŠŠ tsconfig.json çš„ JSON æ‹¿å‡ºæ¥ï¼Œå†æŠŠé‡Œé¢çš„ key-value å¯¹è½¬åŒ–æˆ --xxx çš„ bash å‚æ•°ä¸å°±ç®—åŠ è½½äº† tsconfig.json äº†ä¹ˆï¼Ÿæœ€åŽï¼Œä»–é€ äº†ä¸€ä¸ªè½®å­ "),a("a",{attrs:{href:"https://github.com/gustavopch/tsc-files#readme",target:"_blank",rel:"noopener noreferrer"}},[t._v("tsc-files"),a("OutboundLink")],1),t._v("ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"tsc-files-çš„é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tsc-files-çš„é—®é¢˜"}},[t._v("#")]),t._v(" tsc-files çš„é—®é¢˜")]),t._v(" "),a("p",[t._v("ç„¶è€Œé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œå› ä¸ºæˆ‘ä»¬ä¸€èˆ¬åœ¨ "),a("code",[t._v("tsconfig.json")]),t._v(" é‡Œéƒ½ä¼šæŠŠ "),a("code",[t._v("src")]),t._v(" æ”¾åœ¨ "),a("code",[t._v("include")]),t._v(" é‡Œï¼š")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"include"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"exclude"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("è¿™æ ·ä¸€æ¥ï¼Œè¿è¡Œ "),a("code",[t._v("tsc-files --noEmit")]),t._v(" å°±ä¼šæ‰«ææ•´ä¸ª "),a("code",[t._v("src")]),t._v(" çš„ "),a("code",[t._v(".ts")]),t._v(" æ–‡ä»¶ï¼Œæ— æ³•è¾¾åˆ° "),a("code",[t._v("lint-staged")]),t._v(" çš„ç›®çš„äº†ã€‚")])]),t._v(" "),a("p",[t._v("æ‰€ä»¥ "),a("code",[t._v("tsc-files")]),t._v(" åœ¨ "),a("code",[t._v("v1.1.3")]),t._v(" è¿™ä¸ªç‰ˆæœ¬ä¼šæŠŠ "),a("code",[t._v("include")]),t._v(" è®¾ç½®æˆç©ºæ•°ç»„ "),a("code",[t._v("[]")]),t._v("ï¼Œç„¶åŽæŠŠ "),a("code",[t._v("lint-staged")]),t._v(" çš„æ–‡ä»¶æ”¾åœ¨ "),a("code",[t._v('files: ["xxx.ts"]')]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("ä½†æ˜¯è¿™åˆå›žåˆ°åˆšåˆšæ— æ³•æ£€æµ‹ "),a("code",[t._v("messyTypes.d.ts")]),t._v(" é‡Œ "),a("code",[t._v("Hello")]),t._v(" interface çš„é—®é¢˜ï¼Œå› ä¸º "),a("code",[t._v("messyTypes.d.ts")]),t._v(" æ²¡æœ‰è¢«æ”¾åˆ° "),a("code",[t._v("files")]),t._v(" ä¸­ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/621ffad6e2ba4bd2ac838c94db9de295~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),t._v(" "),a("p",[t._v("è¿™ä¸ªé—®é¢˜åœ¨ "),a("a",{attrs:{href:"https://github.com/gustavopch/tsc-files/issues/20",title:"tsc-files é—®é¢˜",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™ä¸ª Issue: Current version incorrectly analyzes @types/node"),a("OutboundLink")],1),t._v(" ä¸­åˆåˆåˆè¢«ç–¯ç‹‚è®¨è®ºã€‚\né‡Œé¢æå‡ºäº†ä¸€ä¸ªæƒ³æ³•ï¼šæŠŠ "),a("code",[t._v("typeRoots")]),t._v(" çš„è·¯å¾„æ”¾åˆ° "),a("code",[t._v("include")]),t._v(" é‡Œï¼Œè¿™æ ·å°±å¯ä»¥ç”¨ "),a("code",[t._v("typeRoots")]),t._v(" è‡ªå®šä¹‰ç±»åž‹å£°æ˜Žæ–‡ä»¶çš„è·¯å¾„æ¥æ£€æµ‹æ‰€æœ‰çš„ "),a("code",[t._v(".d.ts")]),t._v(" äº†ï¼Œä½†æ˜¯è¿™è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œå…·ä½“çœ‹ä¸‹é¢è¿™æ®µï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce4a6418679b46e8885ecf301d6606c4~tplv-k3u1fbpfcp-zoom-1.image",alt:"è¿™ä¸¤æ®µæ˜¯è¯¥ Issue çš„è®¨è®ºæ ¸å¿ƒ"}})]),t._v(" "),a("blockquote",[a("p",[t._v("deanolium çš„è§‚ç‚¹æ˜¯ï¼šå¦‚æžœæŠŠ "),a("code",[t._v("typeRoots")]),t._v(" æ”¾åœ¨ "),a("code",[t._v("include")]),t._v(" é‡Œï¼Œæˆ‘ä»¬ä¸èƒ½ä¿è¯æ‰€æœ‰äººéƒ½ä¼šç”¨ "),a("code",[t._v("tsconfig.json")]),t._v(" é‡Œçš„ "),a("code",[t._v("typeRoots")]),t._v("ï¼Œå› ä¸ºä¸æ˜¯æ‰€æœ‰äººéƒ½æ˜¯é…ç½®å¤§ç¥žã€‚\nå¦‚æžœè¦åœ¨ "),a("code",[t._v("typeRoots")]),t._v(" é‡Œå†™è‡ªå®šä¹‰ç±»åž‹å£°æ˜Žæ–‡ä»¶ç›®å½•ï¼Œé‚£å°±è¦æ‰‹åŠ¨åŠ ä¸Š "),a("code",[t._v("./node_modules/@types")]),t._v(" ç›®å½•ï¼Œä¸ç„¶ä¸ä¼šè‡ªåŠ¨ import node_modules é‡Œçš„ "),a("code",[t._v(".d.ts")]),t._v("ã€‚\nè€Œä¸”å¦‚æžœå¤§å®¶ä¸äº†è§£ "),a("code",[t._v("tsc-files")]),t._v(" çš„åŽŸç†å’Œå®žçŽ°ï¼Œæ ¹æœ¬å°±ä¸çŸ¥é“æœ‰è¿™ä¸ªå‘ã€‚"),a("code",[t._v("tsc-files")]),t._v(" å‡çº§ç‰ˆæœ¬åŽè¿˜éœ€è¦ç”¨æˆ·æ‰‹åŠ¨åŽ»æ”¹ "),a("code",[t._v("tsconfig.json")]),t._v(" å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„å®žè·µã€‚")])]),t._v(" "),a("blockquote",[a("p",[t._v("gustavopchï¼ˆä½œè€…ï¼‰çš„è§‚ç‚¹æ˜¯ï¼šä¸€æ–¹é¢ä½¿ç”¨ "),a("code",[t._v("tsc-files")]),t._v(" æ—¶ä¸åº”è¯¥åŠ ä¸Šæ‰€æœ‰çš„æ–‡ä»¶ï¼Œå› ä¸ºè¿™ä¼šæ‰«ææ•´ä¸ªé¡¹ç›®ï¼Œå°±è¿å "),a("code",[t._v("lint-staged")]),t._v(" ä½¿ç”¨çš„åˆè¡·äº†ã€‚\nå¦ä¸€æ–¹é¢å°±ç®— "),a("code",[t._v("include")]),t._v(" é‡Œèƒ½è¯»å– "),a("code",[t._v("typeRoots")]),t._v(" ç›®å½•ä¹Ÿä¸èƒ½ä¿è¯èƒ½è‡ªåŠ¨æ£€æµ‹åˆ°æ‰€æœ‰ç±»åž‹ï¼Œå› ä¸ºæœ‰çš„äººå¯èƒ½ä¼šåœ¨ "),a("code",[t._v(".ts")]),t._v(" ä¹Ÿç”¨ "),a("code",[t._v("declare")]),t._v(" æ¥å®šä¹‰ï¼Œä¹Ÿä¼šæœ‰å‘ã€‚")])]),t._v(" "),a("p",[t._v("ç´¯äº†ï¼Œæ¯ç­å§ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ac607546a8664c3cb4d6353963209f11~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"æˆ‘çš„æ–¹æ¡ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘çš„æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" æˆ‘çš„æ–¹æ¡ˆ")]),t._v(" "),a("p",[t._v("æ€»çš„æ¥è¯´ï¼Œè¦ä¹ˆæ‰«æ "),a("code",[t._v("src")]),t._v(" é‡Œçš„æ‰€æœ‰ "),a("code",[t._v(".ts")]),t._v(" åšç±»åž‹æ£€æŸ¥ï¼Œè¦ä¹ˆåªæ‰«æ Git æäº¤çš„æ–‡ä»¶ï¼Œä½†æ˜¯ä¼šæŠ¥æ‰¾ä¸åˆ°ç±»åž‹çš„é”™è¯¯ã€‚")]),t._v(" "),a("p",[t._v("å¾ˆæŠ±æ­‰ï¼Œç›®å‰æˆ‘èƒ½æ‰¾åˆ°çš„èµ„æ–™éƒ½æ²¡æœ‰å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚æžœä½ æœ‰æ›´å¥½çš„ LintStaged x TypeScript é…ç½®æ–¹æ¡ˆï¼Œå¯ä»¥ "),a("a",{attrs:{href:"https://github.com/haixiangyan/linter-tutorial/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ Issue"),a("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),a("p",[t._v("ä¸è¿‡æˆ‘è‡ªå·±ä¹Ÿæƒ³åˆ°äº†ä¸€ä¸ªæ–¹æ³•å°±æ˜¯æ˜¾å¼æ‰«æ "),a("code",[t._v(".d.ts")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" declarationFiles "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/messyTypesInfo.d.ts'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'**/*.{ts,tsx}'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("filenames")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" files "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("filenames"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("declarationFiles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("tsc-files ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(" --noEmit --skipLibCheck")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'**/*.{js,jsx}'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"**/*.vue"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"**/*.{css,less}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æˆ–è€…ç”¨ "),a("code",[t._v("fs")]),t._v(" æ¨¡å—æ¥è¯»å–é¡¹ç›®ä¸­ "),a("code",[t._v("./src/typings")]),t._v(" ä¸‹çš„æ‰€æœ‰ "),a("code",[t._v(".d.ts")]),t._v(" å£°æ˜Žæ–‡ä»¶ï¼Œç„¶åŽå†æ”¾åˆ°å‘½ä»¤ä¸­ã€‚")]),t._v(" "),a("p",[t._v("è¦ä¹ˆä¹Ÿå¯ä»¥åœ¨æ¯æ¬¡ Commit å‰å…¨é¢æ‰«æï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"**/*.{ts,tsx}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tsc -p tsconfig.json --noEmit"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"**/*.{js,jsx}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"**/*.vue"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"**/*.{css,less}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --cache --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ç¼ºç‚¹æ˜¯ pre-commit çš„æ—¶å€™ä¼šæ…¢ä¸€ç‚¹ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);